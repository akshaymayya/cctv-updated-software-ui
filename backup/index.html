<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>CATIFAAL — Dashboard (Prototype)</title>
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;700&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#0b0b0d; --panel:#0f1113; --muted:#9aa1a6; --accent:#E53935; --glass: rgba(255,255,255,0.04);
      --card-radius:12px; --gap:18px; --ui-font: 'Outfit', system-ui, -apple-system, sans-serif; --heading-font: 'Playfair Display', serif;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;background:linear-gradient(180deg,#070709 0%, var(--bg) 100%);font-family:var(--ui-font);color:#e7e9ea}
    .app{display:flex;height:100vh;gap:var(--gap);padding:22px}

    /* SIDEBAR */
    .sidebar{width:220px;background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);border-radius:16px;padding:18px;display:flex;flex-direction:column;gap:18px}
    .logo{display:flex;align-items:center;gap:12px}
    .logo .badge{width:46px;height:46px;border-radius:10px;background:linear-gradient(135deg,var(--accent),#c62828);display:flex;align-items:center;justify-content:center;font-weight:700}
    .logo h1{margin:0;font-family:var(--heading-font);font-size:18px;letter-spacing:1px}
    .nav{display:flex;flex-direction:column;gap:8px}
    .nav a{color:var(--muted);text-decoration:none;padding:10px;border-radius:10px;display:flex;gap:12px;align-items:center}
    .nav a.active, .nav a:hover{background:var(--glass);color:#fff}
    .nav svg{opacity:0.9}

    /* MAIN */
    .main{flex:1;display:flex;flex-direction:column;gap:var(--gap)}
    .topbar{display:flex;align-items:center;justify-content:space-between;padding:8px 12px}
    .search{display:flex;align-items:center;gap:10px;background:rgba(255,255,255,0.02);padding:10px;border-radius:10px;width:420px}
    .search input{background:transparent;border:0;color:inherit;outline:none;width:100%}
    .stats{display:flex;gap:12px}
    .stat{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);padding:12px;border-radius:12px;min-width:160px}
    .stat h3{margin:0;font-size:13px;color:var(--muted)}
    .stat p{margin:6px 0 0;font-weight:700;font-size:18px}

    /* GRID */
    .grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .camera{background:var(--panel);border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:10px;position:relative;overflow:hidden}
    .cam-preview{height:180px;background:linear-gradient(90deg, rgba(255,255,255,0.02), transparent);border-radius:8px;display:flex;align-items:center;justify-content:center}
    .cam-meta{display:flex;align-items:center;justify-content:space-between}
    .btns{display:flex;gap:8px}
    .btn{padding:8px 10px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);color:var(--muted);cursor:pointer}
    .btn.primary{background:var(--accent);border:none;color:#111}
    .badge-status{font-size:12px;padding:6px 8px;border-radius:999px}
    .online{background:rgba(76,175,80,0.12);color:#8ee08e}
    .offline{background:rgba(244,67,54,0.08);color:#ff8a80}

    /* RIGHT PANE */
    .right{width:360px;display:flex;flex-direction:column;gap:12px}
    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), transparent);padding:14px;border-radius:12px}
    .events{max-height:320px;overflow:auto;display:flex;flex-direction:column;gap:8px}
    .event{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px;background:rgba(255,255,255,0.01)}
    .event .dot{width:10px;height:10px;border-radius:50%;background:var(--accent)}

    /* TIMELINE */
    .timeline{background:var(--panel);border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:10px}
    .timeline input[type=range]{width:100%}

    /* MODAL */
    .viewer{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(2,2,2,0.6)}
    .viewer.open{display:flex}
    .viewer .card{width:90%;max-width:1100px;background:#0b0b0d;border-radius:12px;padding:14px;display:flex;gap:12px}
    .viewer .player{flex:1;background:#000;border-radius:8px;height:520px;display:flex;align-items:center;justify-content:center;color:#888}
    .viewer .side{width:320px;display:flex;flex-direction:column;gap:10px}

    footer{opacity:0.6;text-align:center;padding:12px;color:var(--muted)}

    /* responsive */
    @media (max-width:1100px){.grid{grid-template-columns:repeat(2,1fr)}.right{display:none}}
    @media (max-width:700px){.app{flex-direction:column;padding:12px}.sidebar{width:100%;flex-direction:row;align-items:center}.main{order:2}.right{order:3;width:100%}}
  </style>
</head>
<body>
  <div class="app">
    <aside class="sidebar">
      <div class="logo">
        <div class="badge">C</div>
        <div>
          <h1>CATIFAAL</h1>
          <div style="font-size:12px;color:var(--muted)">Privacy-first CCTV</div>
        </div>
      </div>
      <nav class="nav">
        <a class="active" href="#"><svg width="16" height="16" viewBox="0 0 24 24" fill="none" aria-hidden><path d="M3 12h4l3 8 4-16 3 8h4" stroke="currentColor" stroke-width="1.6" stroke-linecap="round" stroke-linejoin="round"></path></svg> Dashboard</a>
        <a href="#"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M3 7h18M3 12h18M3 17h18" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path></svg> Cameras</a>
        <a href="#"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M12 2v20M2 12h20" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"></path></svg> Analytics</a>
        <a href="#"><svg width="16" height="16" viewBox="0 0 24 24" fill="none"><path d="M12 2a10 10 0 100 20 10 10 0 000-20z" stroke="currentColor" stroke-width="1.6"/></svg> Settings</a>
      </nav>
      <div style="margin-top:auto;font-size:12px;color:var(--muted)">Pilot region: Mangalore • v0.2-alpha</div>
    </aside>

    <main class="main">
      <div class="topbar">
        <div style="display:flex;gap:12px;align-items:center">
          <div class="search"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" style="opacity:.9"><path d="M21 21l-4.35-4.35" stroke="currentColor" stroke-width="1.6" stroke-linecap="round"/></svg><input placeholder="Search cameras, events, addresses..." /></div>
          <div class="stats">
            <div class="stat"><h3>Active Cameras</h3><p id="stat-cams">6</p></div>
            <div class="stat"><h3>Alerts (24h)</h3><p id="stat-alerts">3</p></div>
            <div class="stat"><h3>Hub Health</h3><p id="stat-hub">Good</p></div>
          </div>
        </div>
        <div style="display:flex;align-items:center;gap:12px">
          <button class="btn">Docs</button>
          <button class="btn">Support</button>
          <button class="btn primary" id="early">Join Early Bird</button>
        </div>
      </div>

      <section class="grid" id="cams-grid">
        <!-- camera cards injected by JS -->
      </section>

      <div style="display:flex;gap:12px;align-items:flex-start">
        <div style="flex:1">
          <div class="timeline">
            <h3 style="margin:0">Timeline</h3>
            <div style="font-size:13px;color:var(--muted)">Drag to scrub through event highlights</div>
            <input type="range" min="0" max="100" value="0" id="timelineRange" />
          </div>
        </div>
        <aside class="right">
          <div class="panel">
            <h3 style="margin:0 0 8px 0">Hub Status</h3>
            <div style="display:flex;gap:8px;align-items:center"><div style="width:12px;height:12px;border-radius:50%;background:#8ee08e"></div><div>Online • UPS Healthy</div></div>
            <div style="margin-top:10px;color:var(--muted);font-size:13px">Storage: 1.6TB free of 4TB</div>
          </div>

          <div class="panel">
            <h3 style="margin:0 0 8px 0">Recent Events</h3>
            <div class="events" id="eventsList">
              <!-- event items -->
            </div>
          </div>

          <div class="panel">
            <h3 style="margin:0 0 8px 0">Installer Tools</h3>
            <div style="display:flex;gap:8px;flex-direction:column">
              <button class="btn">Generate Pairing Code</button>
              <button class="btn">Run Network Test</button>
              <button class="btn">Upload Firmware</button>
            </div>
          </div>
        </aside>
      </div>

      <footer>CATIFAAL • Privacy-first. Product under development.</footer>
    </main>

  </div>

  <!-- modal viewer -->
  <div class="viewer" id="viewer">
    <div class="card">
      <div class="player" id="player">Live feed placeholder</div>
      <div class="side">
        <div style="display:flex;justify-content:space-between;align-items:center"><h4 id="viewCamTitle" style="margin:0">Camera</h4><div class="badge-status online">Online</div></div>
        <div style="color:var(--muted);font-size:13px">Recent events</div>
        <div style="display:flex;flex-direction:column;gap:8px;overflow:auto;max-height:360px;margin-top:8px" id="viewerEvents"></div>
        <div style="margin-top:auto"><button class="btn primary" id="closeView">Close</button></div>
      </div>
    </div>
  </div>

<script>
  // Mock camera data
  const cams = [
    {id:1,name:'Gate - North',status:'online',last:'2m ago'},
    {id:2,name:'Driveway',status:'online',last:'5m ago'},
    {id:3,name:'Lobby',status:'online',last:'1h ago'},
    {id:4,name:'Warehouse',status:'offline',last:'2d ago'},
    {id:5,name:'Bus Dashcam - #102',status:'online',last:'3m ago'},
    {id:6,name:'Roof - East',status:'online',last:'7m ago'}
  ];

  const events = [
    {cam:1,txt:'Person detected at gate',time:'Today • 20:12'},
    {cam:5,txt:'Hard brake - Bus #102',time:'Today • 19:54'},
    {cam:2,txt:'Vehicle detected',time:'Today • 19:21'}
  ];

  function renderCams(){
    const grid = document.getElementById('cams-grid');
    grid.innerHTML='';
    cams.forEach(c=>{
      const div = document.createElement('div'); div.className='camera';
      div.innerHTML = `
        <div style="display:flex;justify-content:space-between;align-items:center">
          <div style="font-weight:600">${c.name}</div>
          <div style="font-size:12px;color:var(--muted)">${c.last}</div>
        </div>
        <div class="cam-preview" data-id="${c.id}"> 
          <svg width="140" height="90" viewBox="0 0 140 90"><rect width="140" height="90" rx="8" fill="url(#g)"/></svg>
        </div>
        <div class="cam-meta">
          <div style="display:flex;align-items:center;gap:8px"><div class="badge-status ${c.status==='online'?'online':'offline'}">${c.status}</div><div style="font-size:13px;color:var(--muted)">ID ${c.id}</div></div>
          <div class="btns">
            <button class="btn" onclick="openViewer(${c.id})">View</button>
            <button class="btn">Events</button>
            <button class="btn primary" onclick="pairDemo(${c.id})">Pair</button>
          </div>
        </div>`;
      grid.appendChild(div);
    });
  }

  function renderEvents(){
    const el = document.getElementById('eventsList'); el.innerHTML='';
    events.forEach(e=>{
      const d = document.createElement('div'); d.className='event';
      d.innerHTML = `<div class='dot'></div><div style='flex:1'><div style='font-weight:600'>${e.txt}</div><div style='font-size:12px;color:var(--muted)'>${e.time}</div></div><div style='font-size:12px;color:var(--muted)'>Cam ${e.cam}</div>`;
      el.appendChild(d);
    });
  }

  function openViewer(id){
    const cam = cams.find(c=>c.id===id);
    document.getElementById('viewer').classList.add('open');
    document.getElementById('viewCamTitle').innerText = cam.name;
    const ve = document.getElementById('viewerEvents'); ve.innerHTML='';
    events.filter(e=>e.cam===id).forEach(ev=>{const it = document.createElement('div'); it.className='event'; it.innerHTML=`<div class='dot'></div><div style='flex:1'><div style='font-weight:600'>${ev.txt}</div><div style='font-size:12px;color:var(--muted)'>${ev.time}</div></div>`; ve.appendChild(it)});
    document.getElementById('player').innerHTML = '<div style="text-align:center;color:#888"><div style="font-size:13px">Live Feed: '+cam.name+'</div><div style="margin-top:18px;font-size:12px;color:var(--muted)">(Prototype placeholder)</div></div>';
  }

  document.getElementById('closeView').addEventListener('click',()=>document.getElementById('viewer').classList.remove('open'));
  document.getElementById('early').addEventListener('click',()=>alert('Early-bird signup: we\'ll email you soon!'));

  function pairDemo(id){alert('Pairing demo: Camera '+id+' paired (simulated)')}

  // init
  renderCams(); renderEvents();
</script>
</body>
</html>
